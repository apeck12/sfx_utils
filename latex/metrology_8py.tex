\hypertarget{metrology_8py}{}\doxysection{btx/misc/metrology.py File Reference}
\label{metrology_8py}\index{btx/misc/metrology.py@{btx/misc/metrology.py}}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacebtx}{btx}}
\item 
namespace \mbox{\hyperlink{namespacebtx_1_1misc}{btx.\+misc}}
\item 
namespace \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology}{btx.\+misc.\+metrology}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_a47ab5173658757a6688658a1d1bf61e9}{btx.\+misc.\+metrology.\+retrieve\+\_\+from\+\_\+mrxv}} (det\+\_\+type, out\+\_\+geom, mrxv\+\_\+path=\textquotesingle{}/cds/sw/package/autosfx/mrxv/geometries\textquotesingle{})
\begin{DoxyCompactList}\small\item\em Fetch latest geom file for this detector from mrxv. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_acda4f5a906466bd3dc94209a35c568de}{btx.\+misc.\+metrology.\+modify\+\_\+crystfel\+\_\+coffset\+\_\+res}} (input\+\_\+file, output\+\_\+file, coffset, res)
\begin{DoxyCompactList}\small\item\em Overwrite the coffset and res entries in a Cryst\+FEL .geom file. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_a7f3321ffe9dfd2c0453bd0968c07dcee}{btx.\+misc.\+metrology.\+modify\+\_\+crystfel\+\_\+header}} (input\+\_\+file, output\+\_\+file)
\begin{DoxyCompactList}\small\item\em Modify the header of a psgeom-\/generated Crystfel (.geom) file, specifically 1. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_a766e4a9f278241f32d059268495567af}{btx.\+misc.\+metrology.\+offset\+\_\+geom}} (input\+\_\+file, output\+\_\+file, dx, dy, dz)
\begin{DoxyCompactList}\small\item\em Modify the geometry in an input geom file by changing the center and coffset distance. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_a3cfcfecc20fb938134c12376aaf0e5bb}{btx.\+misc.\+metrology.\+generate\+\_\+geom\+\_\+file}} (exp, run, det\+\_\+type, input\+\_\+file, output\+\_\+file, det\+\_\+dist=None)
\begin{DoxyCompactList}\small\item\em Generate a Crystfel .geom file from either a psana .data or another Crystfel .geom file and set the coffset field for each panel based on the estimated detector distance\+: coffset \mbox{[}m\mbox{]} = 1e-\/3 $\ast$ (distance -\/ clen) Supplying det\+\_\+dist will override the value pulled from the deployed geometry for this run, which is used to compute the coffset parameter. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_a4b35167b11a129182696686710aa4260}{btx.\+misc.\+metrology.\+parse\+\_\+input}} ()
\begin{DoxyCompactList}\small\item\em For command line use \#\#\#\#. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_ae7c6d5e82d8a08525412dd6c2c15eb03}{btx.\+misc.\+metrology.\+params}} = parse\+\_\+input()
\item 
\mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_a0a6be7dd77e5622452bbd337669aad50}{btx.\+misc.\+metrology.\+temp\+\_\+file}} = os.\+path.\+join(os.\+path.\+dirname(params.\+input\+\_\+file), \textquotesingle{}temp.\+geom\textquotesingle{})
\item 
\mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_ab64d7515971644e958fae1cc7761bcba}{btx.\+misc.\+metrology.\+input\+\_\+file}}
\item 
\mbox{\hyperlink{namespacebtx_1_1misc_1_1metrology_a670c21553283971ea062d7f28873517d}{btx.\+misc.\+metrology.\+det\+\_\+dist}}
\end{DoxyCompactItemize}
